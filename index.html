<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Prompt Generator - Prompter</title>
<script>
  (function() {
    function load(src, fallback) {
      const s = document.createElement('script');
      s.src = src;
      s.onerror = () => fallback && load(fallback);
      document.head.appendChild(s);
    }
    load('https://cdn.tailwindcss.com', 'tailwind.js');
    load('https://unpkg.com/lucide@latest');
  })();
</script>
    <style>
        /* Custom styles */
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .bg-gradient-to-br {
            background-image: linear-gradient(to bottom right, var(--tw-gradient-stops));
        }
        .from-purple-900 { --tw-gradient-from: #581c87; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(88, 28, 135, 0)); }
        .via-blue-900 { --tw-gradient-stops: var(--tw-gradient-from), #1e3a8a, var(--tw-gradient-to, rgba(30, 58, 138, 0)); }
        .to-indigo-900 { --tw-gradient-to: #312e81; }
        .bg-gradient-to-r { background-image: linear-gradient(to right, var(--tw-gradient-stops)); }
        .from-cyan-400 { --tw-gradient-from: #22d3ee; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(34, 211, 238, 0)); }
        .to-purple-400 { --tw-gradient-to: #c084fc; }
        .from-purple-500 { --tw-gradient-from: #a855f7; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(168, 85, 247, 0)); }
        .to-pink-500 { --tw-gradient-to: #ec4899; }
        .from-cyan-500 { --tw-gradient-from: #06b6d4; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(6, 182, 212, 0)); }
        .to-purple-500 { --tw-gradient-to: #a855f7; }
        .hover\:from-cyan-600:hover { --tw-gradient-from: #0891b2; }
        .hover\:to-purple-600:hover { --tw-gradient-to: #9333ea; }
        .bg-clip-text { background-clip: text; -webkit-background-clip: text; }
        .text-transparent { color: transparent; }
        .backdrop-blur-md { backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); }
        .selection\:bg-purple-500::selection { background-color: #a855f7; }
        .selection\:text-white::selection { color: white; }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fadeIn {
          animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        .animate-spin {
          animation: spin 1s linear infinite;
        }
        @keyframes pulse {
          50% { opacity: .5; }
        }
        .animate-pulse {
          animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        .lucide {
            width: 1em;
            height: 1em;
            stroke-width: 2;
            stroke: currentColor;
            fill: none;
            stroke-linecap: round;
            stroke-linejoin: round;
        }
        .category-button {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            border-radius: 0.75rem;
            text-align: center;
            transition: all 0.2s ease-in-out;
            height: 5rem;
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .category-button:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }
        .category-button.selected {
            background-image: linear-gradient(to right, var(--tw-gradient-stops));
            --tw-gradient-from: #a855f7;
            --tw-gradient-to: #ec4899;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transform: scale(1.05);
            --tw-ring-color: #f472b6;
            box-shadow: 0 0 0 2px var(--tw-ring-color);
        }
        .category-button .lucide {
            width: 1.5rem;
            height: 1.5rem;
            margin-bottom: 0.25rem;
        }
        .category-button span {
            font-size: 0.75rem;
            font-weight: 500;
            line-height: 1.1;
        }
        /* Theme Toggle Styles */
        .theme-toggle-container button {
            transition: background-color 0.2s ease, color 0.2s ease;
        }
    </style>
    <style id="theme-styles">
        /* Default Dark Theme Styles (will be overridden by JS) */
        body {
            background-image: linear-gradient(to bottom right, #581c87, #1e3a8a, #312e81) !important;
            color: white !important;
        }
        .bg-white\/10 {
            background-color: rgba(255, 255, 255, 0.1) !important;
        }
        .bg-black\/30 {
            background-color: rgba(0, 0, 0, 0.3) !important;
        }
        .text-blue-200 {
            color: #bfdbfe !important; /* Tailwind blue-200 */
        }
        .text-blue-300 {
            color: #93c5fd !important; /* Tailwind blue-300 */
        }
        .border-white\/20 {
             border-color: rgba(255, 255, 255, 0.2) !important;
        }
        .bg-black\/20 {
             background-color: rgba(0, 0, 0, 0.2) !important;
        }
        .hover\:bg-white\/10:hover {
             background-color: rgba(255, 255, 255, 0.1) !important;
        }
        .bg-white\/30 {
             background-color: rgba(255, 255, 255, 0.3) !important;
        }
        .hover\:bg-white\/30:hover {
             background-color: rgba(255, 255, 255, 0.3) !important;
        }
        .focus\:ring-white\/50:focus {
             --tw-ring-color: rgba(255, 255, 255, 0.5) !important;
        }
        .category-button {
            background-color: rgba(255, 255, 255, 0.2) !important;
            color: white !important;
            border: 1px solid rgba(255, 255, 255, 0.1) !important;
        }
        .category-button:hover {
            background-color: rgba(255, 255, 255, 0.3) !important;
        }
        .category-button.selected {
            background-image: linear-gradient(to right, #a855f7, #ec4899) !important;
            color: white !important;
        }
        .category-button .lucide {
            color: white !important;
        }
        #app-title {
            background-image: linear-gradient(to right, #22d3ee, #c084fc) !important;
            line-height: 1.3;
            padding-bottom: 5px;
        }
        #choose-style-title, #your-prompt-title {
            color: white !important;
        }
        #lang-en, #lang-tr {
            color: #bfdbfe !important; /* text-blue-200 */
        }
        #lang-en.active, #lang-tr.active {
            background-color: rgba(255, 255, 255, 0.3) !important;
            color: white !important;
        }
        .theme-toggle-container i {
            color: #bfdbfe !important; /* text-blue-200 */
        }
    </style>
</head>
<body class="min-h-screen p-4">

    <div id="app-container" class="max-w-6xl mx-auto relative">
        <!-- Theme Toggle -->
        <div class="theme-toggle-container absolute top-4 left-4 flex items-center gap-2 bg-black/20 backdrop-blur-sm p-1 rounded-lg border border-white/20 z-10">
           <button id="theme-light" class="p-1.5 rounded-md text-sm font-medium" title="Light Theme">
             <i data-lucide="sun" class="w-5 h-5"></i>
           </button>
           <button id="theme-dark" class="p-1.5 rounded-md text-sm font-medium" title="Dark Theme">
             <i data-lucide="moon" class="w-5 h-5"></i>
           </button>
        </div>

        <!-- Language Switcher -->
        <div class="absolute top-4 right-4 flex items-center gap-2 bg-black/20 backdrop-blur-sm p-1 rounded-lg border border-white/20 z-10">
           <i data-lucide="languages" class="w-5 h-5 text-blue-300 ml-1"></i>
           <button id="lang-en" class="px-3 py-1 rounded-md text-sm font-medium">
             EN
           </button>
           <button id="lang-tr" class="px-3 py-1 rounded-md text-sm font-medium">
             TR
           </button>
        </div>

        <!-- Header -->
        <div class="text-center mb-6 pt-16 md:pt-12">
          <h1 id="app-title" class="text-4xl md:text-5xl font-bold mb-2 bg-gradient-to-r from-cyan-400 to-purple-400 bg-clip-text text-transparent">
            AI Prompt Generator - Prompter
          </h1>
          <p id="app-subtitle" class="text-blue-200 text-lg md:text-xl px-2">
            Prompt generator for AI - unprecedented, limitless creativity
          </p>
        </div>

        <!-- Category Selection -->
        <div class="bg-white/10 backdrop-blur-md rounded-2xl p-4 mb-4 border border-white/20 shadow-lg">
          <h2 id="choose-style-title" class="text-lg font-semibold mb-3">
            Select Your Prompt Inspiration
          </h2>
          <div id="category-buttons" class="grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-12 gap-2">
            <!-- Category buttons load here -->
          </div>
        </div>

        <!-- Generate Button -->
        <div class="text-center mb-4">
          <button id="generate-button" class="bg-gradient-to-r from-cyan-500 to-purple-500 hover:from-cyan-600 hover:to-purple-600 disabled:opacity-50 disabled:cursor-not-allowed font-bold py-3 px-6 rounded-xl text-base transition-all duration-300 ease-in-out transform hover:scale-105 shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500 focus:ring-offset-purple-900">
            <div class="flex items-center justify-center">
              <i data-lucide="sparkles" class="w-4 h-4 mr-2"></i>
              <span id="generate-button-text">Generate New Prompt</span>
            </div>
          </button>
        </div>

        <!-- Generated Prompt Display -->
        <div id="prompt-display-area" class="hidden bg-white/10 backdrop-blur-md rounded-2xl p-4 border border-white/20 shadow-lg transition-opacity duration-500 ease-in-out">
            <div class="flex justify-between items-center mb-3">
              <h3 id="your-prompt-title" class="text-lg font-semibold">
                Your Unique Prompt:
              </h3>
              <div class="flex gap-2">
                <button id="copy-button" class="p-1.5 rounded-lg bg-white/20 hover:bg-white/30 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/50" title="Copy to clipboard">
                  <i data-lucide="copy" class="w-4 h-4"></i>
                </button>
                <button id="download-button" class="p-1.5 rounded-lg bg-white/20 hover:bg-white/30 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-white/50" title="Download as .txt">
                  <i data-lucide="download" class="w-4 h-4"></i>
                </button>
              </div>
            </div>
            <div id="generated-prompt-text" class="bg-black/30 rounded-xl p-3 leading-relaxed whitespace-pre-wrap text-base font-mono selection:bg-purple-500 selection:text-white">
              <!-- Generated prompt text loads here -->
            </div>
            <p id="copy-success-message" class="text-green-400 text-sm mt-2 animate-pulse hidden">
              Prompt copied successfully!
            </p>
        </div>

        <!-- Footer/Stats -->
        <div class="mt-8 text-center pb-4">
          <p id="app-stats" class="text-blue-200 text-sm mb-1">
            Prompts that will unlock the potential of your mind
          </p>
          <p id="footer-prompter" class="text-blue-300 text-xs font-semibold">
            Prompter
          </p>
        </div>
    </div>

<script>
    // --- Core Application Logic ---
    const appState = {
        generatedPrompt: '',
        selectedCategory: 'random',
        isGenerating: false,
        copySuccess: false,
        language: 'en',
        theme: 'dark', // Default theme
        history: [],        // overall prompt history
        partHistory: [],    // per-part history
        HISTORY_SIZE: 50    // Increased history size
    };

    // --- Utility Functions ---
    const getRandomElement = (array, history = []) => {
        if (!array || array.length === 0) return '';
        const available = array.filter(item => !history.includes(item));
        if (available.length > 0) {
            return available[Math.floor(Math.random() * available.length)];
        }
        return array[Math.floor(Math.random() * array.length)];
    };

    // --- UI Text Translations ---
    const uiText = {
        en: {
            appTitle: "AI Prompt Generator - Prompter",
            appSubtitle: "Prompt generator for AI - unprecedented, limitless creativity",
            chooseStyleTitle: "Select Your Prompt Inspiration",
            generateButtonText: "Generate New Prompt",
            yourPromptTitle: "Your Unique Prompt:",
            copyButtonTitle: "Copy to clipboard",
            downloadButtonTitle: "Download as .txt",
            copySuccessMessage: "Prompt copied successfully!",
            appStats: "Prompts that will unlock the potential of your mind",
            footerPrompter: "Prompter",
            randomCategory: "Random Mix",
            themeLightTitle: "Light Theme",
            themeDarkTitle: "Dark Theme"
        },
        tr: {
            appTitle: "YZ Prompt Ãœretici - Prompter",
            appSubtitle: "YZ iÃ§in prompt Ã¼retici - eÅŸi benzeri gÃ¶rÃ¼lmemiÅŸ sÄ±nÄ±rsÄ±z yaraticilik",
            chooseStyleTitle: "Prompt Ä°lhamÄ±nÄ±zÄ± SeÃ§in",
            generateButtonText: "Yeni Prompt Ãœret",
            yourPromptTitle: "Benzersiz Promptunuz:",
            copyButtonTitle: "Panoya kopyala",
            downloadButtonTitle: ".txt olarak indir",
            copySuccessMessage: "Prompt baÅŸarÄ±yla kopyalandÄ±!",
            appStats: "Zihninizin potansiyelini aÃ§Ä±ÄŸa Ã§Ä±karacak promptlar",
            footerPrompter: "Prompter",
            randomCategory: "Rastgele KarÄ±ÅŸÄ±m",
            themeLightTitle: "AÃ§Ä±k Tema",
            themeDarkTitle: "Koyu Tema"
        }
    };

        // --- Category Definitions ---
        const categories = [
            { id: 'random', icon: 'shuffle', name: { en: 'Random Mix', tr: 'Rastgele KarÄ±ÅŸÄ±m' } },
            { id: 'inspiring', icon: 'sunrise', name: { en: 'Inspiring', tr: 'Ä°lham Verici' } },
            { id: 'mindBlowing', icon: 'brain-circuit', name: { en: 'Mind-blowing', tr: 'Ufuk AÃ§Ä±cÄ±' } },
            { id: 'productivity', icon: 'zap', name: { en: 'Productivity', tr: 'Ãœretkenlik' } },
            { id: 'educational', icon: 'graduation-cap', name: { en: 'Educational', tr: 'EÄŸitici' } },
            { id: 'crazy', icon: 'laugh', name: { en: 'Crazy', tr: 'Ã‡Ä±lgÄ±n Fikirler' } }, // Updated name
            { id: 'perspective', icon: 'glasses', name: { en: 'Perspective', tr: 'BakÄ±ÅŸ AÃ§Ä±sÄ±' } },
            { id: 'ai', icon: 'cpu', name: { en: 'AI', tr: 'YZ' } }, // Updated name
            { id: 'ideas', icon: 'lightbulb', name: { en: 'Ideas', tr: 'Fikirler' } },
            { id: 'video', icon: 'video', name: { en: 'Video', tr: 'Video' } },
            { id: 'image', icon: 'image', name: { en: 'Image', tr: 'GÃ¶rsel' } },
            { id: 'hellprompts', icon: 'skull', name: { en: 'Hellprompts', tr: 'Cehennem PromptlarÄ±' } } // New category
        ];

        // Fallback emoji icons if Lucide cannot load
        const fallbackIcons = {
            random: 'ðŸ”€',
            inspiring: 'ðŸŒ…',
            mindBlowing: 'ðŸ¤¯',
            productivity: 'âš¡',
            educational: 'ðŸŽ“',
            crazy: 'ðŸ˜‚',
            perspective: 'ðŸ•¶ï¸',
            ai: 'ðŸ¤–',
            ideas: 'ðŸ’¡',
            video: 'ðŸŽ¬',
            image: 'ðŸ–¼ï¸',
            hellprompts: 'ðŸ’€'
        };

        // --- Prompt Templates ---
        const prompts = {
            en: {
                inspiring: {
                    parts: [
                        ["Imagine", "Describe", "Write about"],
                        ["overcoming a challenge", "finding unexpected hope", "joining together for change"],
                        ["to inspire others.", "for a brighter future.", "and transform lives."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                mindBlowing: {
                    parts: [
                        ["Consider a world where", "Imagine if", "What if"],
                        ["gravity reversed", "humans could teleport", "time flowed backwards"],
                        ["How would society react?", "What would change?", "Would we adapt?"]
                    ],
                    structure: (p) => `${p[0]} ${p[1]}. ${p[2]}`
                },
                productivity: {
                    parts: [
                        ["Develop a system to", "Create a plan to", "Design a routine that"],
                        ["avoid distractions", "maximize focus", "boost efficiency"],
                        ["for sustained results.", "without burnout.", "each day."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                educational: {
                    parts: [
                        ["Explain", "Teach", "Break down"],
                        ["quantum physics", "the human brain", "machine learning"],
                        ["in simple terms.", "for beginners.", "with real-world examples."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                crazy: {
                    parts: [
                        ["Write a scene where", "Imagine a situation where", "Describe a world where"],
                        ["cats rule the earth", "bananas are sentient", "gravity is optional"],
                        ["resulting in chaos.", "with hilarious outcomes.", "confusing everyone."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                perspective: {
                    parts: [
                        ["From a different point of view,", "Looking from space,", "Through the eyes of a child,"],
                        ["consider love", "see the daily routine", "understand conflict"],
                        ["to gain new insight.", "and feel small.", "in a fresh way."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                ai: {
                    parts: [
                        ["Design an AI that", "Imagine artificial intelligence that", "Write about a robot that"],
                        ["solves world hunger", "creates art autonomously", "learns emotions"],
                        ["and benefits humanity.", "challenging ethics.", "changing our future."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                ideas: {
                    parts: [
                        ["Come up with a business idea for", "Brainstorm a project involving", "Propose a product based on"],
                        ["renewable energy", "virtual reality", "smart home tech"],
                        ["that stands out.", "for mass adoption.", "with minimal cost."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                video: {
                    parts: [
                        ["Pitch a viral video idea about", "Create a short film concept focusing on", "Outline a documentary exploring", "Write a sketch where", "Describe an animation that depicts", "Come up with a comedic scene about", "Plan a tutorial video demonstrating", "Imagine a high-action sequence showing", "Design a motivational speech for", "Sketch a series of clips capturing"],
                        ["future technology disrupting everyday life", "unexpected encounters between historical figures", "a day in the life of a forgotten hero", "fun science experiments with household items", "an epic quest in a miniature world", "interviews with people from parallel universes", "exploring abandoned places with drones", "DIY inventions that solve silly problems", "a competition between famous internet memes", "a behind-the-scenes look at a blockbuster movie"],
                        ["Which camera angles or editing tricks would keep viewers hooked?", "How should the soundtrack enhance the mood?", "What plot twist would make it unforgettable?", "Which visual effects will add wow factor?", "How can the pacing maximize suspense?", "What narration style best fits the concept?", "How would you structure the climax for impact?", "What theme ties all the scenes together?", "How could you involve audience participation?", "What surprising cameo could top it off?"]
                    ],
                    structure: (p) => `${p[0]} ${p[1]}, ${p[2]}`
                },
                image: {
                    parts: [
                        ["Create an image of", "Draw a detailed illustration of", "Generate a surreal picture featuring", "Design a minimalistic logo based on", "Sketch a fantasy scene portraying", "Imagine a futuristic concept of", "Paint a portrait of", "Compose a landscape showing", "Develop a comic panel about", "Draft a poster that advertises"],
                        ["a mythical creature riding a bicycle", "a city floating in the clouds", "a robot chef cooking breakfast", "an ancient tree with glowing runes", "a clash between superheroes and villains", "a tranquil village at dusk", "a festival on another planet", "a famous musician as a cartoon hero", "a historical event reimagined in cyberpunk style", "a friendly AI assisting humans"],
                        ["Use vibrant neon colors.", "Make it black and white with strong contrast.", "Use a watercolor texture for a soft look.", "Employ a retro 80s aesthetic.", "Apply a dark gothic mood.", "Add whimsical elements for humor.", "Make it appear photorealistic.", "Use a geometric abstract style.", "Give it a steampunk flair.", "Blend in glitch art effects."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                hellprompts: {
                    parts: [
                        ["Describe the feeling when", "Imagine the horror of", "Write about the moment"],
                        ["shadows whisper", "time stops", "your reflection moves"],
                        ["driving you insane.", "beyond comprehension.", "and nothing feels real."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                }
            },
            tr: {
                inspiring: {
                    parts: [
                        ["Åžunu hayal et:", "Åžunu anlat:", "Bunu yaz:"],
                        ["zorluÄŸun Ã¼stesinden gelmek", "beklenmedik umut bulmak", "deÄŸiÅŸim iÃ§in bir araya gelmek"],
                        ["baÅŸkalarÄ±na ilham vermek iÃ§in.", "daha parlak bir gelecek iÃ§in.", "ve hayatlarÄ± dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                mindBlowing: {
                    parts: [
                        ["ÅžÃ¶yle bir dÃ¼nya dÃ¼ÅŸÃ¼n:", "Ya ÅŸÃ¶yle olsaydÄ±:", "Åžu olasÄ±lÄ±ÄŸÄ± hayal et:"],
                        ["yerÃ§ekimi tersine dÃ¶nse", "insanlar Ä±ÅŸÄ±nlansa", "zaman geriye aksa"],
                        ["Toplum nasÄ±l tepki verir?", "Neler deÄŸiÅŸirdi?", "Uyum saÄŸlayabilir miydik?"]
                    ],
                    structure: (p) => `${p[0]} ${p[1]}. ${p[2]}`
                },
                productivity: {
                    parts: [
                        ["Bir sistem geliÅŸtir:", "Bir plan oluÅŸtur:", "Bir rutin tasarla:"],
                        ["dikkat daÄŸÄ±tÄ±cÄ±larÄ± Ã¶nlemek", "odaklanmayÄ± artÄ±rmak", "verimliliÄŸi yÃ¼kseltmek"],
                        ["kalÄ±cÄ± sonuÃ§lar iÃ§in.", "yorulmadan.", "her gÃ¼n."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                educational: {
                    parts: [
                        ["Åžunu aÃ§Ä±kla:", "Åžunu Ã¶ÄŸret:", "Åžunu basitleÅŸtir:"],
                        ["kuantum fiziÄŸi", "insan beyni", "makine Ã¶ÄŸrenimi"],
                        ["basit terimlerle.", "yeni baÅŸlayanlara.", "gerÃ§ek Ã¶rneklerle."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                crazy: {
                    parts: [
                        ["ÅžÃ¶yle bir sahne yaz:", "Åžu durumu dÃ¼ÅŸÃ¼n:", "ÅžÃ¶yle bir dÃ¼nya anlat:"],
                        ["kediler dÃ¼nyayÄ± yÃ¶netse", "muzlar bilinÃ§li olsa", "yerÃ§ekimi isteÄŸe baÄŸlÄ± olsa"],
                        ["tam bir kaos olur.", "komik sonuÃ§larla.", "herkes ÅŸaÅŸÄ±rÄ±r."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                perspective: {
                    parts: [
                        ["FarklÄ± bir bakÄ±ÅŸ aÃ§Ä±sÄ±yla,", "Uzaydan bakÄ±ldÄ±ÄŸÄ±nda,", "Bir Ã§ocuÄŸun gÃ¶zÃ¼nden,"],
                        ["aÅŸkÄ± dÃ¼ÅŸÃ¼n", "gÃ¼nlÃ¼k rutine bak", "Ã§atÄ±ÅŸmayÄ± anla"],
                        ["yeni bir anlayÄ±ÅŸ iÃ§in.", "ve kendini kÃ¼Ã§Ã¼k hisset.", "farklÄ± bir ÅŸekilde."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                ai: {
                    parts: [
                        ["ÅžÃ¶yle bir YZ tasarla:", "ÅžÃ¶yle bir yapay zeka dÃ¼ÅŸÃ¼n:", "Bir robot hakkÄ±nda yaz:"],
                        ["dÃ¼nyadaki aÃ§lÄ±ÄŸÄ± Ã§Ã¶zen", "kendi baÅŸÄ±na sanat Ã¼reten", "duygularÄ± Ã¶ÄŸrenen"],
                        ["ve insanlÄ±ÄŸa faydalÄ± olan.", "etik tartÄ±ÅŸmalara yol aÃ§an.", "geleceÄŸimizi deÄŸiÅŸtiren."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                ideas: {
                    parts: [
                        ["Åžu alan iÃ§in bir iÅŸ fikri:", "ÅžÃ¶yle bir proje Ã¶ner:", "Åžu Ã¼rÃ¼nÃ¼ tasarla:"],
                        ["yenilenebilir enerji", "sanal gerÃ§eklik", "akÄ±llÄ± ev teknolojisi"],
                        ["fark yaratacak.", "geniÅŸ kitlelere hitap eden.", "dÃ¼ÅŸÃ¼k maliyetli."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                video: {
                    parts: [
                        ["Viral olacak bir video fikri ver:", "Åžuna odaklanan kÄ±sa film konsepti oluÅŸtur:", "Åžunu keÅŸfeden bir belgesel tasla:", "ÅžÃ¶yle bir skeÃ§ yaz:", "Åžunu tasvir eden bir animasyon anlat:", "Åžu konuda komik bir sahne dÃ¼ÅŸÃ¼n:", "Åžunu Ã¶ÄŸreten bir eÄŸitim videosu planla:", "Åžunu gÃ¶steren aksiyon dolu bir sekans hayal et:", "Åžu konu iÃ§in motive edici bir konuÅŸma hazÄ±rla:", "Åžu anlarÄ± yakalayan klipler dizisi tasarla:"],
                        ["gÃ¼nlÃ¼k yaÅŸamÄ± deÄŸiÅŸtiren geleceÄŸin teknolojisi", "tarihÃ® kiÅŸilerin beklenmedik karÅŸÄ±laÅŸmalarÄ±", "unutulmuÅŸ bir kahramanÄ±n bir gÃ¼nÃ¼", "evde yapÄ±lacak eÄŸlenceli bilim deneyleri", "minyatÃ¼r bir dÃ¼nyada destansÄ± bir macera", "paralel evrenlerden insanlarla rÃ¶portajlar", "dronlarla terk edilmiÅŸ yerlerin keÅŸfi", "saÃ§ma sorunlara Ã§Ã¶zÃ¼m bulan icatlar", "Ã¼nlÃ¼ internet memeleri arasÄ±nda bir yarÄ±ÅŸma", "bir giÅŸe rekortmeni filmin kamera arkasÄ±"],
                        ["Ä°zleyiciyi ekranda tutacak kamera aÃ§Ä±larÄ± neler olmalÄ±?", "MÃ¼zik atmosferi nasÄ±l gÃ¼Ã§lendirmeli?", "Hangi sÃ¼rpriz son unutulmaz kÄ±lar?", "Hangi gÃ¶rsel efektler ÅŸaÅŸÄ±rtÄ±cÄ± olur?", "Gerilimi artÄ±rmak iÃ§in tempo nasÄ±l olmalÄ±?", "Hangi anlatÄ±m tarzÄ± en uygun olur?", "Finali etkileyici kÄ±lmak iÃ§in nasÄ±l kurgularsÄ±n?", "TÃ¼m sahneleri birleÅŸtiren tema ne?", "Seyircinin katÄ±lÄ±mÄ± nasÄ±l saÄŸlanÄ±r?", "Hangi beklenmedik cameo iÅŸi taÃ§landÄ±rÄ±r?"]
                    ],
                    structure: (p) => `${p[0]} ${p[1]}, ${p[2]}`
                },
                image: {
                    parts: [
                        ["Åžunun gÃ¶rselini oluÅŸtur:", "DetaylÄ± bir Ã§izimini yap:", "Åžu unsurlarÄ± iÃ§eren sÃ¼rreal bir resim Ã¼ret:", "Åžuna dayalÄ± minimal bir logo tasarla:", "Åžu fantastik sahneyi Ã§iz:", "Åžunun futuristik bir yorumunu hayal et:", "Åžunun portresini boya:", "Åžu manzarayÄ± tasvir et:", "Åžu konu hakkÄ±nda bir Ã§izgi roman karesi oluÅŸtur:", "Åžunu tanÄ±tan bir afiÅŸ tasla:"],
                        ["bisiklete binen efsanevi bir yaratÄ±k", "bulutlarÄ±n Ã¼zerinde yÃ¼zen bir ÅŸehir", "kahvaltÄ± piÅŸiren robot bir aÅŸÃ§Ä±", "parlayan rÃ¼nlerle sÃ¼slÃ¼ kadim bir aÄŸaÃ§", "sÃ¼per kahramanlar ile kÃ¶tÃ¼lerin Ã§arpÄ±ÅŸmasÄ±", "alacakaranlÄ±kta huzurlu bir kÃ¶y", "baÅŸka bir gezegende festival", "Ã§izgi film kahramanÄ± olarak Ã¼nlÃ¼ bir mÃ¼zisyen", "siberpunk tarzÄ±nda yeniden tasarlanmÄ±ÅŸ tarihÃ® bir olay", "insanlara yardÄ±mcÄ± olan sevimli bir yapay zeka"],
                        ["CanlÄ± neon renkler kullan.", "Siyah beyaz ve yÃ¼ksek kontrast olsun.", "YumuÅŸak bir gÃ¶rÃ¼nÃ¼m iÃ§in sulu boya dokusu kullan.", "Retro 80'ler estetiÄŸi uygula.", "KaranlÄ±k gotik bir hava ver.", "EÄŸlenceli detaylar ekle.", "FotoÄŸraf gerÃ§ekÃ§iliÄŸinde olsun.", "Geometrik soyut bir stil kullan.", "Steampunk dokunuÅŸlarÄ± ekle.", "Glitch efektleriyle harmanla."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                },
                hellprompts: {
                    parts: [
                        ["Åžu anÄ± tarif et:", "Åžu korkuyu hayal et:", "Åžu anÄ± yaz:"],
                        ["gÃ¶lgeler fÄ±sÄ±ldadÄ±ÄŸÄ±nda", "zaman durduÄŸunda", "yansÄ±man hareket ettiÄŸinde"],
                        ["akÄ±l saÄŸlÄ±ÄŸÄ±nÄ± yitirirsin.", "anlamanÄ±n Ã¶tesinde.", "ve gerÃ§eklik kaybolur."]
                    ],
                    structure: (p) => `${p[0]} ${p[1]} ${p[2]}`
                }
            }
        };

        // --- DOM Elements ---
        const categoryButtonsContainer = document.getElementById('category-buttons');
        const generateButton = document.getElementById('generate-button');
        const promptDisplayArea = document.getElementById('prompt-display-area');
        const generatedPromptText = document.getElementById('generated-prompt-text');
        const copyButton = document.getElementById('copy-button');
        const downloadButton = document.getElementById('download-button');
        const copySuccessMessage = document.getElementById('copy-success-message');
        const langEnButton = document.getElementById('lang-en');
        const langTrButton = document.getElementById('lang-tr');
        const themeLightButton = document.getElementById('theme-light');
        const themeDarkButton = document.getElementById('theme-dark');
        const themeStyleElement = document.getElementById('theme-styles');

        // --- Theme Toggle Logic ---
        const THEMES = { LIGHT: 'light', DARK: 'dark' };
        const themeStyles = {
            [THEMES.LIGHT]: `
                body { background-image: linear-gradient(to bottom right, #f0f4ff, #d9e2ff, #c4d1ff) !important; color: #1a1a2e !important; }
                .bg-white\/10 { background-color: rgba(255, 255, 255, 0.8) !important; border-color: rgba(0, 0, 0, 0.1) !important; }
                .bg-black\/30 { background-color: rgba(0, 0, 0, 0.05) !important; color: #1e293b !important; }
                .text-blue-200 { color: #4338ca !important; }
                .text-blue-300 { color: #3730a3 !important; }
                .border-white\/20 { border-color: rgba(0, 0, 0, 0.1) !important; }
                .bg-black\/20 { background-color: rgba(0, 0, 0, 0.05) !important; }
                .hover\:bg-white\/10:hover { background-color: rgba(0, 0, 0, 0.1) !important; }
                .bg-white\/30 { background-color: rgba(0, 0, 0, 0.2) !important; }
                .hover\:bg-white\/30:hover { background-color: rgba(0, 0, 0, 0.3) !important; }
                .focus\:ring-white\/50:focus { --tw-ring-color: rgba(0, 0, 0, 0.3) !important; }
                .category-button { background-color: rgba(0, 0, 0, 0.08) !important; color: #1a1a2e !important; border: 1px solid rgba(0, 0, 0, 0.1) !important; }
                .category-button:hover { background-color: rgba(0, 0, 0, 0.15) !important; }
                .category-button.selected { background-image: linear-gradient(to right, #6366f1, #8b5cf6) !important; color: white !important; border-color: transparent !important; }
                .category-button .lucide { color: #4f46e5 !important; }
                .category-button.selected .lucide { color: white !important; }
                #app-title { background-image: linear-gradient(to right, #4f46e5, #7c3aed) !important; }
                #choose-style-title, #your-prompt-title { color: #1e293b !important; }
                #lang-en, #lang-tr { color: #4338ca !important; }
                #lang-en.active, #lang-tr.active { background-color: rgba(0, 0, 0, 0.2) !important; color: #1e293b !important; }
                .theme-toggle-container i { color: #4338ca !important; }
                .theme-toggle-container button { color: #4338ca !important; }
                .theme-toggle-container button.active { background-color: rgba(0, 0, 0, 0.2) !important; color: #1e293b !important; }
                .absolute.top-4.right-4 i { color: #4338ca !important; }
            `,
            [THEMES.DARK]: `
                body { background-image: linear-gradient(to bottom right, #581c87, #1e3a8a, #312e81) !important; color: white !important; }
                .bg-white\/10 { background-color: rgba(255, 255, 255, 0.1) !important; border-color: rgba(255, 255, 255, 0.2) !important; }
                .bg-black\/30 { background-color: rgba(0, 0, 0, 0.3) !important; color: white !important; }
                .text-blue-200 { color: #bfdbfe !important; }
                .text-blue-300 { color: #93c5fd !important; }
                .border-white\/20 { border-color: rgba(255, 255, 255, 0.2) !important; }
                .bg-black\/20 { background-color: rgba(0, 0, 0, 0.2) !important; }
                .hover\:bg-white\/10:hover { background-color: rgba(255, 255, 255, 0.1) !important; }
                .bg-white\/30 { background-color: rgba(255, 255, 255, 0.3) !important; }
                .hover\:bg-white\/30:hover { background-color: rgba(255, 255, 255, 0.3) !important; }
                .focus\:ring-white\/50:focus { --tw-ring-color: rgba(255, 255, 255, 0.5) !important; }
                .category-button { background-color: rgba(255, 255, 255, 0.2) !important; color: white !important; border: 1px solid rgba(255, 255, 255, 0.1) !important; }
                .category-button:hover { background-color: rgba(255, 255, 255, 0.3) !important; }
                .category-button.selected { background-image: linear-gradient(to right, #a855f7, #ec4899) !important; color: white !important; border-color: transparent !important; }
                .category-button .lucide { color: white !important; }
                #app-title { background-image: linear-gradient(to right, #22d3ee, #c084fc) !important; }
                #choose-style-title, #your-prompt-title { color: white !important; }
                #lang-en, #lang-tr { color: #bfdbfe !important; }
                #lang-en.active, #lang-tr.active { background-color: rgba(255, 255, 255, 0.3) !important; color: white !important; }
                .theme-toggle-container i { color: #bfdbfe !important; }
                .theme-toggle-container button { color: #bfdbfe !important; }
                .theme-toggle-container button.active { background-color: rgba(255, 255, 255, 0.3) !important; color: white !important; }
                .absolute.top-4.right-4 i { color: #93c5fd !important; }
            `
        };

        const setTheme = (theme) => {
            appState.theme = theme;
            themeStyleElement.textContent = themeStyles[theme];
            if (theme === THEMES.LIGHT) {
                themeLightButton.classList.add('active', 'bg-white/30', 'text-white', 'shadow-md');
                themeLightButton.classList.remove('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
                themeDarkButton.classList.remove('active', 'bg-white/30', 'text-white', 'shadow-md');
                themeDarkButton.classList.add('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
            } else {
                themeDarkButton.classList.add('active', 'bg-white/30', 'text-white', 'shadow-md');
                themeDarkButton.classList.remove('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
                themeLightButton.classList.remove('active', 'bg-white/30', 'text-white', 'shadow-md');
                themeLightButton.classList.add('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
            }
            localStorage.setItem('theme', theme);
            // Update button titles based on theme and language
            updateButtonTitles();
        };

        // --- Language Switching Logic ---
        const setLanguage = (lang) => {
            appState.language = lang;
            // Update UI text
            document.getElementById('app-title').textContent = uiText[lang].appTitle;
            document.getElementById('app-subtitle').textContent = uiText[lang].appSubtitle;
            document.getElementById('choose-style-title').textContent = uiText[lang].chooseStyleTitle;
            document.getElementById('generate-button-text').textContent = uiText[lang].generateButtonText;
            document.getElementById('your-prompt-title').textContent = uiText[lang].yourPromptTitle;
            copyButton.title = uiText[lang].copyButtonTitle;
            downloadButton.title = uiText[lang].downloadButtonTitle;
            copySuccessMessage.textContent = uiText[lang].copySuccessMessage;
            document.getElementById('app-stats').textContent = uiText[lang].appStats;
            document.getElementById('footer-prompter').textContent = uiText[lang].footerPrompter;

            // Update category button text
            categories.forEach(category => {
                const button = document.getElementById(`category-${category.id}`);
                if (button) {
                    button.querySelector('span').textContent = category.name[lang];
                }
            });

            // Update language button styles
            if (lang === 'en') {
                langEnButton.classList.add('active', 'bg-white/30', 'text-white', 'shadow-md');
                langEnButton.classList.remove('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
                langTrButton.classList.remove('active', 'bg-white/30', 'text-white', 'shadow-md');
                langTrButton.classList.add('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
            } else {
                langTrButton.classList.add('active', 'bg-white/30', 'text-white', 'shadow-md');
                langTrButton.classList.remove('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
                langEnButton.classList.remove('active', 'bg-white/30', 'text-white', 'shadow-md');
                langEnButton.classList.add('bg-transparent', 'text-blue-200', 'hover:bg-white/10');
            }
            localStorage.setItem('language', lang);
            // Update theme button titles based on language
            updateButtonTitles();
        };

        const updateButtonTitles = () => {
             themeLightButton.title = uiText[appState.language].themeLightTitle;
             themeDarkButton.title = uiText[appState.language].themeDarkTitle;
        };

        // --- Prompt Generation Logic ---
        const generatePrompt = () => {
            appState.isGenerating = true;
            generateButton.disabled = true;
            generatedPromptText.innerHTML = '<div class="flex justify-center items-center h-20"><i data-lucide="loader-2" class="w-6 h-6 animate-spin"></i></div>';
            lucide.createIcons(); // Render spinner icon
            promptDisplayArea.classList.remove('hidden');
            promptDisplayArea.classList.add('animate-fadeIn');

            setTimeout(() => {
                let categoryData;
                let selectedCatId = appState.selectedCategory;

                if (selectedCatId === 'random') {
                    // Exclude 'random' itself from random selection
                    const availableCategories = categories.filter(c => c.id !== 'random');
                    selectedCatId = availableCategories[Math.floor(Math.random() * availableCategories.length)].id;
                }

                categoryData = prompts[appState.language][selectedCatId];

                if (!categoryData || !categoryData.parts || !Array.isArray(categoryData.parts)) {
                    console.error(`Invalid data for category: ${selectedCatId}, language: ${appState.language}`);
                    generatedPromptText.textContent = 'Error generating prompt. Please try again.';
                    appState.isGenerating = false;
                    generateButton.disabled = false;
                    return;
                }


                const promptParts = categoryData.parts.map((partArray, idx) => {
                    if (!appState.partHistory[idx]) {
                        appState.partHistory[idx] = [];
                    }
                    if (!appState.history[idx]) {
                        appState.history[idx] = [];
                    }
                    const element = getRandomElement(partArray, appState.partHistory[idx]);
                    appState.partHistory[idx].push(element);
                    if (appState.partHistory[idx].length > appState.HISTORY_SIZE) {
                        appState.partHistory[idx].shift();
                    }
                    return element;
                });
                const newPrompt = categoryData.structure(promptParts);

                // Update history for each part (FIFO queue)
                promptParts.forEach((part, idx) => {
                    if (!appState.history[idx]) {
                        appState.history[idx] = [];
                    }
                    const hist = appState.history[idx];
                    hist.push(part);
                    if (hist.length > appState.HISTORY_SIZE) {
                        hist.shift();
                    }
                });

                appState.generatedPrompt = newPrompt;
                generatedPromptText.textContent = newPrompt;
                appState.isGenerating = false;
                generateButton.disabled = false;
            }, 300); // Simulate generation time
        };

        // --- Event Listeners ---
        const setupEventListeners = () => {
            // Category buttons
            categories.forEach(category => {
                const button = document.getElementById(`category-${category.id}`);
                if (button) {
                    button.addEventListener('click', () => {
                        appState.selectedCategory = category.id;
                        document.querySelectorAll('.category-button').forEach(btn => btn.classList.remove('selected'));
                        button.classList.add('selected');
                    });
                }
            });

            // Generate button
            generateButton.addEventListener('click', generatePrompt);

            // Copy button
            copyButton.addEventListener('click', () => {
                if (!appState.generatedPrompt) return;
                navigator.clipboard.writeText(appState.generatedPrompt).then(() => {
                    appState.copySuccess = true;
                    copySuccessMessage.classList.remove('hidden');
                    setTimeout(() => {
                        copySuccessMessage.classList.add('hidden');
                        appState.copySuccess = false;
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy text: ', err);
                    alert('Failed to copy prompt. Please try again.');
                });
            });

            // Download button
            downloadButton.addEventListener('click', () => {
                if (!appState.generatedPrompt) return;
                const blob = new Blob([appState.generatedPrompt], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `prompt_${appState.selectedCategory}_${Date.now()}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            });

            // Language buttons
            langEnButton.addEventListener('click', () => setLanguage('en'));
            langTrButton.addEventListener('click', () => setLanguage('tr'));

            // Theme buttons
            themeLightButton.addEventListener('click', () => setTheme(THEMES.LIGHT));
            themeDarkButton.addEventListener('click', () => setTheme(THEMES.DARK));
        };

        // --- Initialization ---
        const initializeApp = () => {
            const runLucide = () => {
                if (window.lucide && typeof window.lucide.createIcons === 'function') {
                    window.lucide.createIcons();
                    return true;
                }
                return false;
            };

            const hasLucide = runLucide();

            categoryButtonsContainer.innerHTML = '';
            categories.forEach(category => {
                const button = document.createElement('button');
                button.id = `category-${category.id}`;
                button.className = 'category-button';
                if (category.id === appState.selectedCategory) {
                    button.classList.add('selected');
                }
                button.innerHTML = hasLucide
                    ? `<i data-lucide="${category.icon}" class="lucide"></i><span>${category.name[appState.language]}</span>`
                    : `<span class="mr-1">${fallbackIcons[category.id] || ''}</span><span>${category.name[appState.language]}</span>`;
                categoryButtonsContainer.appendChild(button);
            });

            if (!hasLucide) {
                const lucideScript = document.querySelector('script[src*="lucide"]');
                lucideScript && lucideScript.addEventListener('load', runLucide, { once: true });
            }

            // Load saved language or default to 'en'
            const savedLanguage = localStorage.getItem('language') || 'en';
            setLanguage(savedLanguage);

            // Load saved theme or default to 'dark'
            const savedTheme = localStorage.getItem('theme') || THEMES.DARK;
            setTheme(savedTheme);

            // Setup event listeners
            setupEventListeners();
        };

        // --- Run Initialization ---
        document.addEventListener('DOMContentLoaded', initializeApp);

    </script>
</body>
</html>

